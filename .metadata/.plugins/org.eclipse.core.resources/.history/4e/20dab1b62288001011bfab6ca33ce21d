package main;

// -XX:+PrintCompilation 
// OSR - On-Stack Replacement

public class JITForceDemo {
    public static void main(String[] args) {
        long result = 0;
        for (int i = 0; i < 5_000; i++) {   // outer loop
            result += heavyWork();
        }
        System.out.println("Result = " + result);
    }

    static long heavyWork() {
        long sum = 0;
        for (int i = 0; i < 10_000_000; i++) {
            sum += i % 10;
        }
        return sum;
    }
}

